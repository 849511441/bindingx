<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>BindingX</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
    }
  </style>
    
  <link rel="icon" href="//gw.alicdn.com/tfs/TB1_V1wbbSYBuNjSspiXXXNzpXa-349-288.png_64x64.jpg" type="image/x-icon">
  <link rel="shortcut icon" href="//gw.alicdn.com/tfs/TB1_V1wbbSYBuNjSspiXXXNzpXa-349-288.png_64x64.jpg">
  <style>
    a[title="站长统计"] {
      display: block;
      width: 0;
      height: 0;
      overflow: hidden;
    }
  </style>

  <script src="//g.alicdn.com/third/react/15.3.2/??react-with-addons.js,react-dom.js"></script>
  <script src="//g.alicdn.com/code/icon/babel-standalone/6.13.2/babel.min.js"></script>

</head>

<body class="loading">
<div id="react-content" style="overflow: auto">
<div id="app"></div>
</div>


<script>
var version = '0.2.1';  // pc site verison. same as gitlab branch name daily/0.x.x
var now = Date.now(); // for ignore js client local cache
var isDebug = false;  // use online or daily or localhost JS 
var isLocalhost = location.href.toString().indexOf('localhost') > 0; // when debug = true, visit by url ip:port means load daily js, visit by localhost:port means load local js

console.log('now portal version is ' + version + ' in 404');

if(!isDebug) {
  loadCss(`//g.alicdn.com/bindingx/site-assets/${version}/site-external/index.css`);
  loadScript(`//g.alicdn.com/bindingx/site-assets/${version}/site-external/js/modernizr.custom.js`);
  //loadScript(`//g.alicdn.com/bindingx/site-assets/${version}/site-internal/js/hovereffect.js`);
  loadScript(`//g.alicdn.com/bindingx/site-assets/${version}/site-external/common.js`);

  if(isMobile()) {
    loadScript(`//download.alicdn.com/sns/bindingx_mobile_home_0.2.js?t=${now}`);
  }else {
    loadScript(`//g.alicdn.com/bindingx/site-assets/${version}/site-external/index.js?t=${now}`);
  }
}else if(!isLocalhost) {
  loadCss(`//g-assets.daily.taobao.net/bindingx/site-assets/${version}/site-external/index.css`);
  loadScript(`//g-assets.daily.taobao.net/bindingx/site-assets/${version}/site-external/js/modernizr.custom.js`);
  //loadScript(`//g-assets.daily.taobao.net/bindingx/site-assets/${version}/site-internal/js/hovereffect.js`);
  loadScript(`//g-assets.daily.taobao.net/bindingx/site-assets/${version}/site-external/common.js?t=${now}`);

  if(isMobile()) {
    loadScript(`//download.alicdn.com/sns/bindingx_mobile_home_0.2.js?t=${now}`);
  }else {
    loadScript(`//g-assets.daily.taobao.net/bindingx/site-assets/${version}/site-external/index.js?t=${now}`);
  }

  console.log("isDebug is true. isLocalhost is false.");
}else {
  loadCss('//localhost:8010/index.css');
  loadScript('//localhost:8010/common.js');
  if(isMobile()) {
    loadScript(`//localhost:9112/home_bundle.js?t=${now}`);
  } else {
    loadScript('//localhost:8010/index.js?t=${now}');
  }

  console.log("isDebug is true. isLocalhost is true.");
}

function loadScript(file) {
  var scriptElement = document.createElement('script');
  scriptElement.src = file;
  document.getElementsByTagName('head')[0].appendChild(scriptElement);
}

function loadCss(file) {
  var scriptElement = document.createElement('link');
  scriptElement.rel = 'stylesheet';
  scriptElement.type = 'text/css';
  scriptElement.href = file;
  document.getElementsByTagName('head')[0].appendChild(scriptElement);
} 

function isMobile() {
  const ua = navigator.userAgent.toLowerCase();
  const isIpad = ua.match(/ipad/);
  const isIphone = !isIpad && ua.match(/iphone/);
  const isAndroid = ua.match(/android/);

  if (isIphone || isIpad || isAndroid) {
    return true;
  } else {
    return false;
  }
}
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115533379-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115533379-3');
</script>
</body>

</html>